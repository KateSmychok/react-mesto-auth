{"version":3,"sources":["components/ProtectedRoute.js","images/Logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/auth.js","components/Login.js","components/InfoTooltip.js","components/Register.js","utils/api.js","components/App.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","exact","path","className","src","logo","alt","email","onClick","onSignOut","CurrentUserContext","React","createContext","Card","user","useContext","isOwn","cardData","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","type","onCardLike","length","onCardDelete","Main","initialCards","cards","map","card","avatar","onEditAvatar","onEditProfile","about","onAddPlace","Footer","Date","getFullYear","PopupWithForm","isOpened","title","onSubmit","children","submitButtonText","onClose","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","id","autoComplete","placeholder","minLength","maxLength","required","EditAvatarPopup","inputRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","base_url","checkResponse","res","ok","json","Promise","reject","status","Login","setEmail","password","setPassword","history","useHistory","fetch","method","headers","body","JSON","stringify","then","response","data","token","localStorage","setItem","catch","err","console","log","auth","handleLogin","push","InfoToolTip","isSuccess","Register","isInfoToolTipOpened","setIsInfoToolTipOpened","setIsSuccess","api","config","this","_url","url","_headers","_checkResponse","cardId","App","currentUser","setCurrentUser","isEditProfilePopupOpened","setIsEditProfilePopupOpened","isEditAvatarPopupOpened","setIsEditAvatarPopupOpened","isAddPlacePopupOpened","setIsAddPlacePopupOpened","isImagePopupOpened","setIsImagePopupOpened","selectedCard","setSelectedCard","setCards","setLoggedIn","userEmail","setUserEmail","closeAllPopups","getInitialCards","getUserInfo","getItem","Provider","removeItem","likeCard","newCard","state","c","deleteCard","filter","setUserInfo","setAvatar","postNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.96974b6b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/Logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"../images/Logo.svg\";\r\nimport { Route, Switch, Link } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <Switch>\r\n    <Route exact path=\"/\">\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип\"/>\r\n        <div className=\"header__info\">\r\n          <p className=\"header__email\">{props.email}</p>\r\n          <button className=\"header__link header__link-sign-out button\" onClick={props.onSignOut}>Выйти</button>\r\n        </div>\r\n      </header>\r\n    </Route>\r\n    <Route path=\"/sign-in\">\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип\"/>\r\n        <Link to=\"/sign-up\" className=\"header__link button\">Зарегистрироваться</Link>\r\n      </header>\r\n    </Route>\r\n    <Route path=\"/sign-up\">\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип\"/>\r\n        <Link to=\"/sign-in\" className=\"header__link button\">Войти</Link>\r\n      </header>\r\n    </Route>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const user = React.useContext(CurrentUserContext);\n  const isOwn = props.cardData.owner._id === user._id;\n  const cardDeleteButtonClassName = (\n    `button ${isOwn ? 'button_type_delete' : 'button_type_delete_hidden'}`\n  );\n  const isLiked = props.cardData.likes.some(i => i._id === user._id);\n  const cardLikeButtonClassName = (\n    `button ${isLiked ? 'button_type_like_active' : 'button_type_like'}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.cardData);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.cardData);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.cardData);\n  }\n\n  return (\n    <li className=\"place\">\n    <img className=\"place__image\" src={props.cardData.link} alt={props.cardData.name} onClick={handleClick}/>\n    <div className=\"place__caption\">\n      <h2 className=\"place__title\">{props.cardData.name}</h2>\n      <div className=\"place__likes\">\n        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n        <p className=\"place__likesCounter\">{props.cardData.likes.length}</p>\n      </div>\n    </div>\n    <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n  </li>\n  )}\n\nexport default Card;\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const initialCards = props.cards.map((card) => {\r\n      return <Card cardData={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n  })\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__userPhoto\">\r\n          <button type=\"button\" className=\"button button_type_updateAvatar\"></button>\r\n          <img className=\"profile__avatar\" src={user.avatar} alt=\"Аватар\" onClick={props.onEditAvatar}/>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__first-row\">\r\n            <h1 className=\"profile__name\">{user.name}</h1>\r\n            <button type=\"button\" className=\"button button_type_edit\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__job\">{user.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"button button_type_add\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section>\r\n        <ul className=\"places\">{initialCards}</ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\n\r\nfunction Footer() {\r\n  return (\r\n  <Switch>\r\n    <Route exact path=\"/\">\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy;{` Kate Smychok ${new Date().getFullYear()} Mesto Russia`}</p>\r\n      </footer>\r\n    </Route>\r\n    <Route path=\"/sign-in\">\r\n      <footer className=\"footer footer-auth\">\r\n        <p className=\"footer__copyright\">&copy;{` Kate Smychok ${new Date().getFullYear()} Mesto Russia`}</p>\r\n      </footer>\r\n    </Route>\r\n    <Route path=\"/sign-up\">\r\n      <footer className=\"footer footer-auth\">\r\n        <p className=\"footer__copyright\">&copy;{` Kate Smychok ${new Date().getFullYear()} Mesto Russia`}</p>\r\n      </footer>\r\n    </Route>\r\n  </Switch>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpened ? 'popup_opened' : ''}`}>\r\n      <div className={`popup__content popup__content_type_${props.name}`}>\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        <form name={props.name} className={`popup__form popup__form_type_${props.name}`} onSubmit={props.onSubmit}>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"button button_type_submit\">{props.submitButtonText}</button>\r\n        </form>\r\n        <button type=\"button\" className=\"button button_type_close\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_fullImage ${props.isOpened ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__content popup__content_type_fullImage\">\r\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n        <h3 className=\"popup__caption\">{props.card.name}</h3>\r\n        <button type=\"button\" className=\"button button_type_close button_type_close-fullImage\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const user = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n  }, [user]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      submitButtonText=\"Сохранить\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input\r\n        value={name || ''}\r\n        onChange={handleNameChange}\r\n        id=\"name\"\r\n        autoComplete=\"off\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required/>\r\n      <span className=\"popup__error\" id=\"name-error\"> </span>\r\n      <input\r\n        value={description || ''}\r\n        onChange={handleDescriptionChange}\r\n        id=\"job\"\r\n        autoComplete=\"off\"\r\n        type=\"text\"\r\n        name=\"job\"\r\n        className=\"popup__input popup__input_type_job\"\r\n        placeholder=\"Вид деятельности\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required/>\r\n      <span className=\"popup__error\" id=\"job-error\"> </span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = ''\r\n  }, [props.isOpened])\r\n\r\n  return (\r\n  <PopupWithForm\r\n    title=\"Обновить аватар\"\r\n    name=\"avatar\"\r\n    submitButtonText=\"Сохранить\"\r\n    isOpened={props.isOpened}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}>\r\n    <input\r\n      ref={inputRef}\r\n      id=\"avatarLink\"\r\n      autoComplete=\"off\"\r\n      type=\"url\"\r\n      name=\"avatarLink\"\r\n      className=\"popup__input popup__input_type_avatar-link\"\r\n      placeholder=\"Ссылка на картинку\"\r\n      required/>\r\n    <span className=\"popup__error\" id=\"avatarLink-error\"> </span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [props.isOpened])\r\n\r\n  return (\r\n    <PopupWithForm\r\n    title=\"Новое место\"\r\n    name=\"addCard\"\r\n    submitButtonText=\"Создать\"\r\n    isOpened={props.isOpened}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}>\r\n    <input\r\n      value={name || ''}\r\n      onChange={handleNameChange}\r\n      id=\"title\"\r\n      autoComplete=\"off\"\r\n      type=\"text\"\r\n      name=\"title\"\r\n      className=\"popup__input popup__input_type_card-title\"\r\n      placeholder=\"Название\"\r\n      minLength=\"2\"\r\n      maxLength=\"30\"\r\n      required/>\r\n    <span className=\"popup__error\" id=\"title-error\"> </span>\r\n    <input\r\n      value={link || ''}\r\n      onChange={handleLinkChange}\r\n      id=\"link\"\r\n      autoComplete=\"off\"\r\n      type=\"url\"\r\n      name=\"link\"\r\n      className=\"popup__input popup__input_type_card-link\"\r\n      placeholder=\"Ссылка на картинку\"\r\n      required/>\r\n    <span className=\"popup__error\" id=\"link-error\"> </span>\r\n  </PopupWithForm>\r\n  )}\r\n\r\n  export default AddPlacePopup;","export const base_url = 'https://auth.nomoreparties.co';\r\n\r\nfunction checkResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка ${res.status}`);\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${base_url}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n    .then(checkResponse)\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${base_url}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n    .then((response => response.json()))\r\n    .then((data) => {\r\n      if (data.token){\r\n        localStorage.setItem('token', data.token);\r\n        return data;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${base_url}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n}","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as auth from '../utils/auth.js';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const history = useHistory();\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    auth.authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setEmail('');\r\n          setPassword('');\r\n          props.handleLogin();\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <div className=\"reg-auth\">\r\n      <div className=\"reg-auth__content\">\r\n        <h3 className=\"reg-auth__title\">{props.title}</h3>\r\n        <form name=\"login\" className=\"reg-auth__form\" onSubmit={handleSubmit}>\r\n          <input\r\n            value={email}\r\n            onChange={handleEmailChange}\r\n            id=\"email-login\"\r\n            name=\"email\"\r\n            className=\"reg-auth__input\"\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            minLength=\"6\"\r\n            maxLength=\"40\"\r\n            required\r\n            autoComplete=\"off\"/>\r\n          <input\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n            id=\"password-login\"\r\n            name=\"password\"\r\n            className=\"reg-auth__input\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            minLength=\"6\"\r\n            maxLength=\"15\"\r\n            required\r\n            autoComplete=\"off\"/>\r\n          <button type=\"submit\" className=\"button button_type_reg-auth\">{props.submitButtonText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\n\r\nfunction InfoToolTip(props) {\r\n  function successOrFail() {\r\n    let text;\r\n    if(props.isSuccess) {\r\n      text = 'Вы успешно зарегистрировались!'\r\n    } else {\r\n      text = 'Что-то пошло не так! Попробуйте ещё раз.'\r\n    }\r\n    return text;\r\n  }\r\n\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpened ? 'popup_opened' : ''}`}>\r\n      <div className={`popup__content popup__content_type_${props.name}`}>\r\n        <div className={`popup__reg-image ${props.isSuccess ? 'popup__reg-image-success' : 'popup__reg-image-error'}`}></div>\r\n        <h3 className=\"popup__reg-caption\">{successOrFail()}</h3>\r\n        <button type=\"button\" className=\"button button_type_close\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoToolTip;","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport * as auth from '../utils/auth.js';\r\nimport InfoToolTip from \"./InfoTooltip\";\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const [isInfoToolTipOpened, setIsInfoToolTipOpened] = React.useState(false);\r\n  const [isSuccess, setIsSuccess] = React.useState(true);\r\n  const history = useHistory();\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.register(email, password)\r\n      .then((res) => {\r\n        if (res) {\r\n          setIsSuccess(true);\r\n          setIsInfoToolTipOpened(true);\r\n        } else {\r\n          setIsSuccess(false);\r\n          setIsInfoToolTipOpened(true);\r\n        }\r\n      });\r\n  }\r\n\r\n  function closeInfoToolTip() {\r\n    setIsInfoToolTipOpened(false);\r\n    if (isSuccess) {\r\n      history.push(\"/sign-in\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"reg-auth\">\r\n      <div className=\"reg-auth__content\">\r\n        <h3 className=\"reg-auth__title\">{props.title}</h3>\r\n        <form name=\"register\" className=\"reg-auth__form\" onSubmit={handleSubmit}>\r\n          <input\r\n            value={email}\r\n            onChange={handleEmailChange}\r\n            id=\"email-register\"\r\n            name=\"email\"\r\n            className=\"reg-auth__input\"\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            minLength=\"6\"\r\n            maxLength=\"40\"\r\n            required\r\n            autoComplete=\"off\"/>\r\n          <input\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n            id=\"password-register\"\r\n            name=\"password\"\r\n            className=\"reg-auth__input\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            minLength=\"6\"\r\n            maxLength=\"15\"\r\n            required\r\n            autoComplete=\"off\"/>\r\n          <button type=\"submit\" className=\"button button_type_reg-auth \">{props.submitButtonText}</button>\r\n        </form>\r\n        <div className=\"reg-auth__to-sign-in\">\r\n          <p className=\"reg-auth__text\">Уже зарегистрированы? &nbsp;</p>\r\n          <Link to=\"/sign-in\" className=\"reg-auth__link button\">Войти</Link>\r\n        </div>\r\n      </div>\r\n      <InfoToolTip name=\"infoToolTip\" isOpened={isInfoToolTipOpened} onClose={closeInfoToolTip} isSuccess={isSuccess}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n\r\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse);\n  }\n\n  setUserInfo(name, about) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  postNewCard(name, link) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  likeCard(cardId, isLiked) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: isLiked ? \"DELETE\" : \"PUT\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-20\",\n  headers: {\n    \"content-type\": \"application/json\",\n    \"authorization\": \"7669375e-39ff-4166-9493-af9a3aca797d\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport api from \"../utils/api.js\";\nimport * as auth from '../utils/auth.js';\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpened, setIsEditProfilePopupOpened] = React.useState(false);\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpened] = React.useState(false);\n  const [isAddPlacePopupOpened, setIsAddPlacePopupOpened] = React.useState(false);\n  const [isImagePopupOpened, setIsImagePopupOpened] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n  const history = useHistory();\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.likeCard(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter(c => c._id !== card._id))\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }, [])\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.getContent(token)\n        .then((data) => {\n          if (data) {\n            setUserEmail(data.data.email);\n            setLoggedIn(true);\n            history.push('/');\n          }\n        })\n    }\n  }, [])\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpened(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpened(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpened(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpened(true);\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.setUserInfo(name, about)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    api.setAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleAddPlaceSubmit({name, link}) {\n    api.postNewCard(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpened(false);\n    setIsAddPlacePopupOpened(false);\n    setIsEditAvatarPopupOpened(false);\n    setIsImagePopupOpened(false);\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    history.push('/sign-in');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header email={userEmail} onSignOut={handleSignOut} />\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete} />\n          <Route path=\"/sign-up\">\n            <Register submitButtonText='Зарегистрироваться' title='Регистрация' />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login submitButtonText='Войти' title='Вход' handleLogin={handleLogin}/>\n          </Route>\n        </Switch>\n        <Footer/>\n\n        {/*Редактировать профиль*/}\n        <EditProfilePopup isOpened={isEditProfilePopupOpened} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n        {/*Обновить аватар*/}\n        <EditAvatarPopup isOpened={isEditAvatarPopupOpened} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n        {/*Добавить карточку*/}\n        <AddPlacePopup isOpened={isAddPlacePopupOpened} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n        <ImagePopup\n          isOpened={isImagePopupOpened}\n          card={selectedCard}\n          onClose={closeAllPopups}>\n        </ImagePopup>\n\n        {/*Вы уверены?*/}\n        <PopupWithForm\n          title=\"Вы уверены?\"\n          name=\"confirm\"\n          submitButtonText=\"Да\"\n          isOpened={false}\n          onClose={closeAllPopups}>\n        </PopupWithForm>\n\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}